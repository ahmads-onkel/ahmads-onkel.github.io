<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Bug Draw</title>

<style>
body{
    margin:0;
    background:white;
    display:flex;
    flex-direction:column;
    align-items:center;
    font-family:sans-serif;
}

input{
    margin:40px;
    padding:15px;
    width:350px;
    font-size:18px;
    border:3px solid black;
    outline:none;
}

canvas{
    border:2px solid black;
}
</style>
</head>
<body>

<input id="prompt" placeholder="type anything and press enter">
<canvas id="canvas" width="600" height="600"></canvas>

<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");
const input = document.getElementById("prompt");

let path = [];

input.addEventListener("keydown", (e)=>{
    if(e.key==="Enter"){
        generate(input.value);
    }
});

function generate(text){

    ctx.clearRect(0,0,600,600);
    path = [];

    // Seed aus Text erzeugen
    let seed = 0;
    for(let i=0;i<text.length;i++){
        seed += text.charCodeAt(i);
    }

    // Pseudo random basierend auf Text
    function random(){
        seed = (seed * 9301 + 49297) % 233280;
        return seed / 233280;
    }

    let x = 300;
    let y = 300;

    for(let i=0;i<3000;i++){
        let angle = random() * Math.PI * 2;
        let distance = random() * 10;

        x += Math.cos(angle) * distance;
        y += Math.sin(angle) * distance;

        // im Canvas bleiben
        x = Math.max(10, Math.min(590,x));
        y = Math.max(10, Math.min(590,y));

        path.push({x,y});
    }

    animateBug();
}

function animateBug(){
    let i = 0;

    function step(){
        if(i >= path.length) return;

        let p = path[i];

        // Linie zeichnen
        if(i > 0){
            ctx.beginPath();
            ctx.moveTo(path[i-1].x, path[i-1].y);
            ctx.lineTo(p.x, p.y);
            ctx.strokeStyle = "black";
            ctx.lineWidth = 1;
            ctx.stroke();
        }

        // KÃ¤fer zeichnen
        ctx.beginPath();
        ctx.arc(p.x, p.y, 4, 0, Math.PI*2);
        ctx.fillStyle = "black";
        ctx.fill();

        i++;
        requestAnimationFrame(step);
    }

    step();
}
</script>

</body>
</html>
