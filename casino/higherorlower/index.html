<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Higher / Lower</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=IBM+Plex+Mono:wght@500;600;700&display=swap" rel="stylesheet">

<style>
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box;}

:root{
  --bg:#111;
  --s1:#181818;
  --b:#2c2c2c;
  --t:#f0f0f0;
  --m:#777;
  --d:#333;
}

html,body{height:100%;}
body{
  background:var(--bg);
  font-family:'Inter',sans-serif;
  color:var(--t);
  display:flex;
  align-items:center;
  justify-content:center;
}

.scr{display:none;flex-direction:column;gap:20px;width:100%;max-width:420px;padding:24px;}
.scr.on{display:flex;}

button{cursor:pointer}

/* START */
.s-title{font-size:12px;letter-spacing:2px;color:var(--m);}
.s-num{font-family:'IBM Plex Mono',monospace;font-size:110px;font-weight:700;letter-spacing:-4px;text-align:center;}
.play-btn{
  padding:14px;
  background:var(--t);
  border:none;
  font-weight:600;
  color:#000;
}

/* GAME */
.g-top{display:flex;justify-content:space-between;font-size:13px;color:var(--m);}
.g-val{font-family:'IBM Plex Mono',monospace;font-size:18px;color:var(--t);}
.num-card{
  background:var(--s1);
  border:1px solid var(--d);
  padding:40px 0;
  text-align:center;
}
#cur-num{
  font-family:'IBM Plex Mono',monospace;
  font-size:110px;
  font-weight:700;
  letter-spacing:-4px;
}

.choice-row{display:flex;gap:10px;}
.choice-btn{
  flex:1;
  padding:16px 0;
  background:transparent;
  border:1px solid var(--d);
  color:var(--m);
  font-weight:600;
}
.choice-btn:hover{border-color:var(--t);color:var(--t);}

#cashout-btn{
  padding:12px;
  border:1px solid var(--d);
  background:transparent;
  color:var(--m);
  font-family:'IBM Plex Mono',monospace;
}
#cashout-btn.live{border-color:var(--t);color:var(--t);}

/* RESULT */
.r-big{
  font-family:'IBM Plex Mono',monospace;
  font-size:80px;
  text-align:center;
}
.r-btn{padding:12px;border:1px solid var(--d);background:transparent;color:var(--m);}
.r-btn:hover{border-color:var(--t);color:var(--t);}
</style>
</head>
<body>

<!-- START -->
<div id="start" class="scr on">
  <div class="s-title">Higher / Lower</div>
  <div class="s-num">?</div>
  <button class="play-btn" onclick="startGame()">Spielen</button>
</div>

<!-- GAME -->
<div id="game" class="scr">
  <div class="g-top">
    <div>Balance<br><span class="g-val" id="balance">1000</span></div>
    <div>Streak<br><span class="g-val" id="streak">×1.00</span></div>
  </div>

  <div class="num-card">
    <div id="cur-num">50</div>
  </div>

  <div class="choice-row">
    <button class="choice-btn" onclick="guess('higher')">Higher</button>
    <button class="choice-btn" onclick="guess('lower')">Lower</button>
  </div>

  <button id="cashout-btn" onclick="cashOut()">Cash Out</button>
</div>

<!-- RESULT -->
<div id="result" class="scr">
  <div class="r-big" id="final"></div>
  <button class="r-btn" onclick="restart()">Nochmal</button>
</div>

<script>
const MULT = 1.8;
let balance = 1000;
let bet = 50;
let cur = 50;
let streak = 0;
let pot = 0;

function show(id){
  document.querySelectorAll('.scr').forEach(s=>s.classList.remove('on'));
  document.getElementById(id).classList.add('on');
}

function startGame(){
  balance = 1000;
  streak = 0;
  pot = 0;
  cur = rand();
  updateUI();
  show('game');
}

function rand(){
  return Math.floor(Math.random()*98)+2;
}

function guess(dir){
  const next = rand();
  const correct = dir==='higher' ? next>cur : next<cur;

  if(correct){
    streak++;
    pot = Math.floor(bet*Math.pow(MULT,streak));
    cur = next;
  } else {
    balance -= bet;
    if(balance<=0){ endGame(); return; }
    streak = 0;
    pot = 0;
    cur = rand();
  }

  updateUI();
}

function cashOut(){
  balance += pot;
  pot = 0;
  streak = 0;
  cur = rand();
  updateUI();
}

function updateUI(){
  document.getElementById('balance').textContent = balance;
  document.getElementById('streak').textContent = "×"+(Math.pow(MULT,streak)).toFixed(2);
  document.getElementById('cur-num').textContent = cur;
  document.getElementById('cashout-btn').classList.toggle('live', streak>0);
}

function endGame(){
  document.getElementById('final').textContent = balance;
  show('result');
}

function restart(){
  show('start');
}
</script>

</body>
</html>
